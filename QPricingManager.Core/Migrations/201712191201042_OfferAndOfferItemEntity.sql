CREATE TABLE [dbo].[OfferItem] (
    [Id] [int] NOT NULL IDENTITY,
    [Value] [float] NOT NULL,
    [PricingUnitId] [int],
    [OfferId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.OfferItem] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_PricingUnitId] ON [dbo].[OfferItem]([PricingUnitId])
CREATE INDEX [IX_OfferId] ON [dbo].[OfferItem]([OfferId])
CREATE TABLE [dbo].[Offer] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [Description] [nvarchar](max),
    [OfferFor] [nvarchar](max),
    [OfferForAddress] [nvarchar](max),
    [PricingId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Offer] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_PricingId] ON [dbo].[Offer]([PricingId])
ALTER TABLE [dbo].[OfferItem] ADD CONSTRAINT [FK_dbo.OfferItem_dbo.Offer_OfferId] FOREIGN KEY ([OfferId]) REFERENCES [dbo].[Offer] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[OfferItem] ADD CONSTRAINT [FK_dbo.OfferItem_dbo.PricingUnit_PricingUnitId] FOREIGN KEY ([PricingUnitId]) REFERENCES [dbo].[PricingUnit] ([Id])
ALTER TABLE [dbo].[Offer] ADD CONSTRAINT [FK_dbo.Offer_dbo.Pricing_PricingId] FOREIGN KEY ([PricingId]) REFERENCES [dbo].[Pricing] ([Id]) ON DELETE CASCADE
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201712191201042_OfferAndOfferItemEntity', N'QPricingManager.Core.DAL.AppDbContext',  0x1F8B0800000000000400ED5DCD6EE33812BE2FB0EF20E834BBC8D849FA321BD83348DB9D81B19D4E4F3B19CC2D6024DA11463F5E890A120CE6C9F6B08FB4AF309444C9FC154959FE496234D0685364912C7E552C168BD5FFFFEFFF463F3D47A1F304D32C48E2B17B3638751D187B891FC4CBB19BA3C5F73FB83FFDF8F7BF8D3EF9D1B3F36B5DEF43510FB78CB3B1FB88D0EA6238CCBC4718816C10055E9A64C9020DBC241A023F199E9F9EFE6B7876368498848B6939CEE85B1EA32082E50FFC7392C41E5CA11C84D7890FC38C94E32FF392AAF30544305B010F8EDD5FBEA6818747770D62B084E96092A47030BDFCEC3A976100F078E6305CB80E88E3040184477B7197C1394A9378395FE10210DEBEAC20AEB7006106C92C2ED6D54D27747A5E4C68B86E5893F2F20C259125C1B30F844343BE79273EBB0D07310F3F615EA39762D6251FC7EECD6201D3198291EBF0BD5D4CC2B4A8A9E073492A80D9A02171E2C82A9E3450C1882AFE9C38933C44790AC731CC510AC213E76BFE1006DEBFE1CB6DF23B8CC7711E86F4B0F1C0F137A600177D4D93154CD1CB37B8209399F9AE3364DB0DF9864D33AA4D35CB598C3E9CBBCE17DC39780861830A8A23738427F4338C610A10F4BF0284601A173460C957A177AEAF5F4198C3BABB6982270D25FDB5D3201CBE8B03240CBDBD65B54EDAE97244BE80A76059CE5E46CE75BEC1B0FC9A3D06AB4AE02A40DC37B0C85CE72A4DA26F4958B7A2BEDDDF827409111E54A2A8304FF2D4B31817C520E9E8A8EF8A31CA6B08235554938D77345C0B9E5E1C3714C5A3186A04A1F8BBEE0DEF069851AE730D9E3FC378891EC72EFE274643F00CFDBA848C00AF34DE0D712394E65A399DC2CC4B8355A5B6B7DC57B9EC5749BAB38E2E7D3F8559B6F5FE088E7B565A44E037D55CB5A02B3557AD302C35579BD6AAC8CBB415F9A2D252F5E78DB45333C0AEFA897C3C6AA8F7A6A12629C48CB80DD6D39A36BFDB5BDEAD7CD396ED522F977863B9E2A55D217696B2FE739AE4ABD6919535EE1BC913C6C77C57493F5BA9A345751B68985854681929FD593550A64E1FBAAA9CF9C60AABA472D45AEF4D6BDDA43EDECBE306D21687ADAE96CB41E94D0383C44E3D2994A85C87598E526DD55115EE59B5200C57A8A3525462C53EB4D5668E188AC85157BD535D45806DAFA9CA86961EA583D04E64C67DCBBD4255A9154407FF54ABBA2AFD4A8C5E907BA8E881B5B9A8E87A7DE8AACAC1B6A1AE2A881C759581840A6EE3F626D79855C12A0C606AD76E96CD622FCC7DD84CEF63829104626BCBE5163EA39DF98730A637B5B4A803484FA40A6C17641A2E70C25D7D7B5506A1C67DD6D9B5AE50B62A0F7C07CBB06F4DDB36629946EE70D6363D6A939DA4F5BC5DD63139745715FBD81FAA296CB83F14448EFBC37BB365990DAF9B0E6E3DBA77D3E76FFE2C6FE3BF53E83FA98FAF6FCBB89BF2331831AB25CD945F1EC94DE36A779F65572158AE234C7A30978BEAFDAA442C9C5858C297821B14BED955BB86D1034C19E3AE0C6718BBA7C20A3375278FD0FBFD63F2DCD43FD3D407A1978724DE8534391757A3E23B5D7899658917940D697385B644D86E3FC5BEA3BBDB5B5B6EE46ABEB6AC3D8C86622EFCF671134F610811742EBD2AE26702320FF8A2A4E239F8C6E369766E6E3C95B9C28EE99F4257782B8369B197807082050A23218891B8EF05B117AC40A8E109D7CE70C72C26DCF4C07F99C2158C8BCD4E337D93AE9B2817B1FFA61B6E2174EC190D2968B5238EBB4E52ADAFEA6E493827EC086FAA3B640DFA7B429A9C1B3BC0997CDA261D5326C13E71C67ADF35ABAB70C50B98233E32DD526BE84B30B40B4C6F0240E904760743E9FABC22308A7E560D605A9CAE0268CC363A832ED4B894E2FE743010ED954D40A61CD1EE80A6E4BB05D89AEB827D228E773469C0A0F43A49DD734648D0F6B107C3AD7DB6BB839982151620AB839CF78E315A09990040EA29344299814E53DFFA1869CD83D96E55F3D83142256B65B3E992AB877D4294F1DB68C02377E208C0A99CB7D6D0948778BD1E0B5036FEDDC151B636AFC8FE13DD721668E17C744680DCEE61B8E5FAA4A326EF0B990CAFF6034F86211618ADAF577780D3CA618BDB20DCA2F12E5EAE56D387A2B0F4600AEED8BB0C128F6C46AE2A78941444E710492E44D71E62D1D01314A7848C9284B63961AE8C40A371CD48D4F1C82A3AE48C64464CC517C638312345DCFC2A5295FC99912261CC2A5295A2E1485110E3168DB9E7A6AAA91E94F0B837F04137F358E344101F03D7314F868C99578CEC540DD8C0B93C254C68738A9AB845A991AF91DEC202853753CBC7EE93E7A260952C68F1D7997BEC4476D452ABE789DC4767C0E0EEBC9184DF29F9A37121D93991C45949216FE73632657E777E09D1334A6EB5BA3F6C1C20E2A488BED5734AE5EFD8B2B6114376DAB9A43CC05B1DE137E593ECD06E88D2EEAC626FF5956C521F228D8F91E254C85EAB678FF4E0B855B524092230E28DE4646377B6E9894BEC91C410992DECAA231C1A83B9F9361A56993748C168A848D131BA06AB55B148EB96A4C49957F93A26DFCFED535844158DA1C7709D37EF9B9E50928225E4BEE2AEF148AF8234435380C003286231267E2454638E070A73B2EE4A380188EB579B987593E2DF553355EA12EAD0201EAB08992B3CC3A8389E957163324D2BB6758AFC292004A9244E6D92847914AB8F8AEAD624A1054D801499D3E07CBD342D8D1B584DB30902A0A92923030A4C73AC158EA7C25A0AFE04161DE6D8E913375D31B32BBC54918A74FBAAC49C0213864813623E5822A54C9D2040A52CB5A7D4E44690116C3E5ACB8742360E0ACFCD2EDD0BA215C68801A6952DDF0BAAE950539A1C5D6E4E8D0E3FA5A9D1E5878641722AEB1388D203A9391A15CDDF0B24F9806C463B72DFB6AB1C8F42A3129A1ECDD89603B7B9C8ECD2943D5889213E3389BC489DF16D14694DA41019655C8F9AEA516E543E81EE72535E6874961B79EBEDC84DD12514A164B5E6F46B559A105D6E4E8D7EC3CACC8B2A37A7563D75A0E95425F67B14891491ED538A20122DCDFA3A55425375D3AAA5B97EBCA2388A571F8FFAC15C3F540EBE3EF543794BD9593FC85BBF977DB50F8D75B466F72E7582C39AAFD2F4DE38AE3907F588388BF589A605EF7155C575309B9E02BFF01CCF5F32ACC5074585C1FC3FE104EF5A315A57C0821C2C6086AA6777EEF9E9D93997A5FA7032460FB3CC0F25CE7669DA6876C176F09E3A28D8AA7D316DF93697C9CCBC081380FA49CC5C0E5688329AC53E7C1EBB7F942D2F9CD96FF74CE313A7542117CEA9F3273D0CE30CADF6FD9366AA9E250CB04C69FC3660526D5D5507F11348BD47907E1781E77FD82E93E435FD46F4F80CC0BD10E3B2FC6E4493DAC33A49C676B02975141FD1D9373AC5CC0785D580CADF7694C44C086694BAA50D3DC262BB4A4B9AA3A3E4C1012B97B700EF3764B91D3ABA99848CDDB1CDA567B4043869BD8961F9FA402E7A415F2DC8897F42713C3161BA9810B01319313FE043607F54A27303F6625532F9FF6C957FD978A30D8073B9761A46D5B88F61F0790739A5F346B734D1A7F96AA5FD60B734460D75819591C5D72D27DBD1E4AB8A37CD82B5DF9C57552CFFAEB35CED2CA795221CE27567B1DA63DE2A43C4F6FB14776768794D8FBFAD3251ED3FD319732AEB90FCEAD0F1A309593C581859E790B25B48B31C3EC226C4946F131AE6EBD55F26A8F790F5A9A71C4FFB3151DA43C2F66CA8689EE81C72A6261B31DFEE6E6403D17E4165BCCEFD255C7ACBD995F66FD8DC069C41CC94BF11B34611FD76B0564DA7CC48879105697FAAC97891F7A39AF69EC9487CD1CC2FA52255517BA6A22AB26DECFA0F095EF7CAFB6499C8489DC748495C4BB851A602E9E68B8CB82208B335FD9136FB514B47D6F99174E9915AFAB2CD9FA44B9FD4D2956D7E255D7AA596AEF69B7F494C5C229170E98140FA0C5F50B807905D49962C423F493D630E2E7B92F544654A407CC1D9DBB4B79C18C96E1AEA0392E2595E6F6CD872BE23556E94C390EBADE631B259BF4DD97760F989BACA3EBD79092F66B632E52DE51E329DC416D7DD22A390F810039BCB795CDC8256BFA6300B966B12234C33861E6328377566F122A9CD766E4475153E380622E0632BFA3245C10278087FF66096959821FF03D1A7E801FAB3F82647AB1CE129C3E82164FE63B6C2EE6FEBBF4C9BC48E7974535ECD677D4C010F33282E8E6FE28F7910FACDB8AF24D1D10A12C581824431146B898A6886E54B43E94B121B1222EC6BCE41B7305A8598587613CFC113EC32B6BB0C7E864BE0BDD4EF69D444F40BC1B27D340DC03205514668ACDBE39F18C37EF4FCE35F1798DAA81E8F0000 , N'6.2.0-61023')

